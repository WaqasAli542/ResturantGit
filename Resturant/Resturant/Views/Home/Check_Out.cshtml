@{
    ViewBag.Title = "Check_Out";
}
@using Resturant.Models;
<nav class="navbar navbar-inverse navbar-fixed-top nav-small">
    <div class="container-fluid">
        <div class="navbar-header"> <a class="navbar-brand" href="#"><img src="~/Content/images/logo.png" alt=""></a> </div>
        <div class="order-now-top-button"> <a href="#">ORDER NOW</a> </div>
        <!--/.nav-collapse -->
    </div>
</nav>

<div class="container  mw900 mt70 pt140">
    <div class="row">
        <div class="col-xs-12">
            <h2 class="mb30">REVIEW YOUR ORDER & CHECKOUT</h2>
            <p class="mb30">Please enter your info below or <a href="#">log into an existing account.</a></p>
            <div class="row">
                <div class="col-sm-7">

                    @{
                        if (System.Web.HttpContext.Current.Session["LoginCustomer"] == null)
                        {
                                 <form class="login check-out">
                        <h3>PICK-UP DETAILS</h3>
                        <div class="form-group mb30">
                            <input type="text" name="first_name" id="signup-first-name" class="form-control" placeholder="first name" value="">
                        </div>
                        <div class="form-group mb30">
                            <input type="text" name="last_name" id="signup-last-name" class="form-control" placeholder="last name" value="">
                        </div>
                        <div class="form-group mb30">
                            <input type="email" name="email" id="signup-email" class="form-control" placeholder="email address" value="">
                            <span class="text-muted">This is where your confirmation email / receipt will be sent.</span>
                        </div>
                        <div class="form-group mb30">
                            <input type="email" name="email_confirm" id="signup-email-confirm" class="form-control" placeholder="confirm email address" value="">
                            <span class="text-muted">Sorry to ask for this twice, but this is an important one.</span>
                        </div>
                        <div class="form-group mb30">
                            <input type="email" name="email_confirm" id="signup-email-confirm" class="form-control" placeholder="phone number" value="">
                            <span class="text-muted">Such as 123-456-7890 x123. Just in case we need to get in touch for any reason.</span>
                        </div>
                        <div class="form-group mb30">
                            <input type="email" name="email_confirm" id="signup-email-confirm" class="form-control" placeholder=" address" value="">
                            <span class="text-muted">You already gave us this one! <a href="#">Click here</a> if you need to make any changes.</span>
                        </div>
                        <div class="form-group mb30">
                            <input type="email" name="email_confirm" id="signup-email-confirm" class="form-control" placeholder="apt / suite" value="">
                        </div>
                        <div class="form-group mb30">
                            <input type="email" name="email_confirm" id="signup-email-confirm" class="form-control" placeholder="company" value="">
                            <span class="text-muted">Optional, but this tends to be very helpful, especially if you're ordering from work.</span>
                        </div>
                        <div class="form-group mb30">
                            <textarea class="form-control" rows="3" cols="5" placeholder=" delivery instructions"></textarea>
                        </div>
                        <h3>WANNA CREATE AN ACCOUNT?</h3>
                        <p>Simply enter a password. Creating an account allows us to save your address, credit card info, and detailed order history (for quick & easy re-ordering). </p>
                        <div class="form-group mb30">
                            <input type="password" name="password" id="signup-password" class="form-control" placeholder="password" value="">
                            <span class="text-muted">Passwords are case sensitive and must be at least 8 letters or numbers.</span>
                        </div>
                        <h3>HOW WOULD YOU LIKE TO PAY?</h3>
                        <div class="like-to-pay">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group mb0">
                                        <label>PROMO CODE</label>
                                        <input type="text" name="code" class="form-control" placeholder="" value="">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <label class="center-block">&nbsp;</label>
                                    <a id="apply-promo-code" class="btn btn-primary center-block" data-promo-code="">Apply Promo Code</a>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group mb30"> <span class="text-muted">If you have a promo code, please it enter here and then click the "Apply Promo Code" button.</span> </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label class="center-block">Payment Type <span class="required">*</span></label>
                                        <input id="radio1" name="radio" value="1" checked="checked" type="radio">
                                        <label for="radio1">Credit</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label>CREDIT CARD NO.</label>
                                        <input type="text" name="cc_number" class="form-control " placeholder="" value="">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label class="center-block">&nbsp;</label>
                                        <span class="text-muted">The 15 or 16 digit number without spaces or dashes.</span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label>Expiration <span class="required">*</span></label>
                                        <div class="row">
                                            <div class="col-xs-6">
                                                <select name="cc_month" id="cc_month" class="form-control">
                                                    <option value="1">01</option>
                                                    <option value="2">02</option>
                                                    <option value="3">03</option>
                                                    <option value="4">04</option>
                                                    <option value="5">05</option>
                                                    <option value="6">06</option>
                                                    <option value="7">07</option>
                                                    <option value="8">08</option>
                                                    <option value="9">09</option>
                                                    <option value="10">10</option>
                                                    <option value="11">11</option>
                                                    <option value="12">12</option>
                                                </select>
                                            </div>
                                            <div class="col-xs-6">
                                                <select name="cc_month" id="cc_month" class="form-control">
                                                    <option value="1">01</option>
                                                    <option value="2">02</option>
                                                    <option value="3">03</option>
                                                    <option value="4">04</option>
                                                    <option value="5">05</option>
                                                    <option value="6">06</option>
                                                    <option value="7">07</option>
                                                    <option value="8">08</option>
                                                    <option value="9">09</option>
                                                    <option value="10">10</option>
                                                    <option value="11">11</option>
                                                    <option value="12">12</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label>CVV <span class="required">*</span> </label>
                                        <input type="text" name="cc_cvv" class="form-control " placeholder="xxx" value="">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label class="center-block">&nbsp;</label>
                                        <span class="text-muted">The 3 or 4 digit security number on the back of your card.</span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group mb30">
                                        <label class="center-block">Save for next time? </label>
                                        <input id="radio1" name="radio" value="1" checked="checked" type="radio">
                                        <label for="radio1">SAVE THIS CARD TO YOUR ACCOUNT</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label>Suggested Gratuity </label>
                                        <select name="tip_amount" id="tip_amount" class="form-control">
                                            <option value="0.00">0.00</option>
                                            <option value="1.00">1.00</option>
                                            <option value="2.00">2.00</option>
                                            <option value="3.00">3.00</option>
                                            <option selected="selected" value="4.00">4.00</option>
                                            <option value="5.00">5.00</option>
                                            <option value="6.00">6.00</option>
                                            <option value="7.00">7.00</option>
                                            <option value="8.00">8.00</option>
                                            <option value="9.00">9.00</option>
                                            <option value="10.00">10.00</option>
                                            <option value="11.00">11.00</option>
                                            <option value="12.00">12.00</option>
                                            <option value="13.00">13.00</option>
                                            <option value="14.00">14.00</option>
                                            <option value="15.00">15.00</option>
                                            <option value="16.00">16.00</option>
                                            <option value="17.00">17.00</option>
                                            <option value="18.00">18.00</option>
                                            <option value="19.00">19.00</option>
                                            <option value="20.00">20.00</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group mb30">
                                        <button id="submit-button" class="btn btn-primary" type="submit" data-modal="modal-updating" value="">Submit Your Order</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                        }
                        else
                        {
                            Customer cus = (Customer)System.Web.HttpContext.Current.Session["LoginCustomer"];
                                 <form class="login check-out">
                        <h3>PICK-UP DETAILS</h3>
                        <div class="form-group mb30">
                            <input type="text" name="FirstName" id="signup-first-name" class="form-control" placeholder="first name" value="@cus.FirstName">
                        </div>
                        <div class="form-group mb30">
                            <input type="text" name="last_name" id="signup-last-name" class="form-control" placeholder="last name" value="@cus.LastName">
                        </div>
                        <div class="form-group mb30">
                            <input type="email" name="email" id="signup-email" class="form-control" placeholder="email address" value="@cus.Email">
                            <span class="text-muted">This is where your confirmation email / receipt will be sent.</span>
                        </div>
                       
                        <div class="form-group mb30">
                            <input type="email" name="email_confirm" id="signup-email-confirm" class="form-control" placeholder="phone number" value="@cus.PhoneNumber">
                            <span class="text-muted">Such as 123-456-7890 x123. Just in case we need to get in touch for any reason.</span>
                        </div>
                        <div class="form-group mb30">
                            <input type="email" name="email_confirm" id="signup-email-confirm" class="form-control" placeholder=" address" value="@cus.Address">
                            <span class="text-muted">You already gave us this one! <a href="#">Click here</a> if you need to make any changes.</span>
                        </div>
                        <div class="form-group mb30">
                            <input type="email" name="email_confirm" id="signup-email-confirm" class="form-control" placeholder="apt / suite" value="">
                        </div>
                        <div class="form-group mb30">
                            <input type="email" name="email_confirm" id="signup-email-confirm" class="form-control" placeholder="company" value="">
                            <span class="text-muted">Optional, but this tends to be very helpful, especially if you're ordering from work.</span>
                        </div>
                        <div class="form-group mb30">
                            <textarea class="form-control" rows="3" cols="5" placeholder=" delivery instructions"></textarea>
                        </div>
                        <h3>WANNA CREATE AN ACCOUNT?</h3>
                        <p>Simply enter a password. Creating an account allows us to save your address, credit card info, and detailed order history (for quick & easy re-ordering). </p>
                        <div class="form-group mb30">
                            <input type="password" name="password" id="signup-password" class="form-control" placeholder="password" value="">
                            <span class="text-muted">Passwords are case sensitive and must be at least 8 letters or numbers.</span>
                        </div>
                        <h3>HOW WOULD YOU LIKE TO PAY?</h3>
                        <div class="like-to-pay">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group mb0">
                                        <label>PROMO CODE</label>
                                        <input type="text" name="code" class="form-control" placeholder="" value="">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <label class="center-block">&nbsp;</label>
                                    <a id="apply-promo-code" class="btn btn-primary center-block" data-promo-code="">Apply Promo Code</a>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group mb30"> <span class="text-muted">If you have a promo code, please it enter here and then click the "Apply Promo Code" button.</span> </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label class="center-block">Payment Type <span class="required">*</span></label>
                                        <input id="radio1" name="radio" value="1" checked="checked" type="radio">
                                        <label for="radio1">Credit</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label>CREDIT CARD NO.</label>
                                        <input type="text" name="cc_number" class="form-control " placeholder="" value="">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label class="center-block">&nbsp;</label>
                                        <span class="text-muted">The 15 or 16 digit number without spaces or dashes.</span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label>Expiration <span class="required">*</span></label>
                                        <div class="row">
                                            <div class="col-xs-6">
                                                <select name="cc_month" id="cc_month" class="form-control">
                                                    <option value="1">01</option>
                                                    <option value="2">02</option>
                                                    <option value="3">03</option>
                                                    <option value="4">04</option>
                                                    <option value="5">05</option>
                                                    <option value="6">06</option>
                                                    <option value="7">07</option>
                                                    <option value="8">08</option>
                                                    <option value="9">09</option>
                                                    <option value="10">10</option>
                                                    <option value="11">11</option>
                                                    <option value="12">12</option>
                                                </select>
                                            </div>
                                            <div class="col-xs-6">
                                                <select name="cc_month" id="cc_month" class="form-control">
                                                    <option value="1">01</option>
                                                    <option value="2">02</option>
                                                    <option value="3">03</option>
                                                    <option value="4">04</option>
                                                    <option value="5">05</option>
                                                    <option value="6">06</option>
                                                    <option value="7">07</option>
                                                    <option value="8">08</option>
                                                    <option value="9">09</option>
                                                    <option value="10">10</option>
                                                    <option value="11">11</option>
                                                    <option value="12">12</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label>CVV <span class="required">*</span> </label>
                                        <input type="text" name="cc_cvv" class="form-control " placeholder="xxx" value="">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label class="center-block">&nbsp;</label>
                                        <span class="text-muted">The 3 or 4 digit security number on the back of your card.</span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group mb30">
                                        <label class="center-block">Save for next time? </label>
                                        <input id="radio1" name="radio" value="1" checked="checked" type="radio">
                                        <label for="radio1">SAVE THIS CARD TO YOUR ACCOUNT</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group mb30">
                                        <label>Suggested Gratuity </label>
                                        <select name="tip_amount" id="tip_amount" class="form-control">
                                            <option value="0.00">0.00</option>
                                            <option value="1.00">1.00</option>
                                            <option value="2.00">2.00</option>
                                            <option value="3.00">3.00</option>
                                            <option selected="selected" value="4.00">4.00</option>
                                            <option value="5.00">5.00</option>
                                            <option value="6.00">6.00</option>
                                            <option value="7.00">7.00</option>
                                            <option value="8.00">8.00</option>
                                            <option value="9.00">9.00</option>
                                            <option value="10.00">10.00</option>
                                            <option value="11.00">11.00</option>
                                            <option value="12.00">12.00</option>
                                            <option value="13.00">13.00</option>
                                            <option value="14.00">14.00</option>
                                            <option value="15.00">15.00</option>
                                            <option value="16.00">16.00</option>
                                            <option value="17.00">17.00</option>
                                            <option value="18.00">18.00</option>
                                            <option value="19.00">19.00</option>
                                            <option value="20.00">20.00</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group mb30">
                                        <button id="submit-button" class="btn btn-primary" type="submit" data-modal="modal-updating" value="">Submit Your Order</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                        }


                    }




               
                </div>
                <div class="col-sm-5">
                    <h3 class="sb-title">ORDER SUMMARY</h3>
                    <table class="table table-hover ">
                        <tbody>
                            <tr>
                                <td>LOCATION</td>
                                <td class="text-right"><a href="#">Hell's Kitchen</a></td>
                            </tr>
                            <tr>
                                <td>ORDER TYPE</td>
                                <td class="text-right">Pick-Up</td>
                            </tr>
                            <tr>
                                <td>PICK-UP TIME</td>
                                <td class="text-right">
                                    <select class="form-control h20" name="order_time">
                                        <option value="asap">ASAP</option>
                                        <option disabled="">Lunch &amp; Dinner</option>
                                        <option value="885">2:45 PM</option>
                                        <option value="900">3:00 PM</option>
                                        <option value="915">3:15 PM</option>
                                        <option value="930">3:30 PM</option>
                                        <option value="945">3:45 PM</option>
                                        <option value="960">4:00 PM</option>
                                        <option value="975">4:15 PM</option>
                                        <option value="990">4:30 PM</option>
                                        <option value="1005">4:45 PM</option>
                                        <option value="1020">5:00 PM</option>
                                        <option value="1035">5:15 PM</option>
                                        <option value="1050">5:30 PM</option>
                                        <option value="1065">5:45 PM</option>
                                        <option value="1080">6:00 PM</option>
                                        <option value="1095">6:15 PM</option>
                                        <option value="1110">6:30 PM</option>
                                        <option value="1125">6:45 PM</option>
                                        <option value="1140">7:00 PM</option>
                                        <option value="1155">7:15 PM</option>
                                        <option value="1170">7:30 PM</option>
                                        <option value="1185">7:45 PM</option>
                                        <option value="1200">8:00 PM</option>
                                        <option value="1215">8:15 PM</option>
                                        <option value="1230">8:30 PM</option>
                                        <option value="1245">8:45 PM</option>
                                        <option value="1260">9:00 PM</option>
                                        <option value="1275">9:15 PM</option>
                                        <option value="1290">9:30 PM</option>
                                        <option value="1305">9:45 PM</option>
                                        <option value="1320">10:00 PM</option>
                                        <option value="1335">10:15 PM</option>
                                        <option value="1350">10:30 PM</option>
                                        <option value="1365">10:45 PM</option>
                                        <option value="1380">11:00 PM</option>
                                    </select>
                                </td>
                            </tr>

                        </tbody>
                    </table>

                    <h4 class="text-danger text-center">Current wait is 15 minutes</h4>

                    @{
                        double total = 0;
                        double subtotal = 0;
                    }
                    @foreach (Items Items in Model)
                    {
                        subtotal = subtotal + Items.Quantitity * Items.price;
                        total = subtotal;
                    }


                    <table class="table table-hover ">
                        <tbody>
                            <tr>
                                <td>ORDER TOTAL</td>
                                <td class="text-right">$ @subtotal</td>
                            </tr>
                           

                            @foreach(ExtraCharge extra in  @ViewBag.extracharges)
                            {
                                //if (extra.Minimum_Amount>subtotal || extra.Maximum_Amount<subtotal)
                                {
                                    total += extra.Price;
                            <tr>
                                <td>@extra.Name.ToUpper()</td>
                                <td class="text-right">$ @extra.Price</td>
                            </tr>
                            }
                            }
                            }
                            @foreach (Tax t in @ViewBag.taxes)
                            {
                                <tr>
                                    <td>@t.Name.ToUpper()</td>
                                    <td class="text-right">% @t.Percentage</td>
                                </tr>
                                total += subtotal * (t.Percentage / 100);
                                
                            }
                            <tr>
                                <td class="bg-warning"><b>TOTAL WITH TAX</b></td>
                                <td class="text-right bg-warning"><b>$ @total</b></td>
                            </tr>

                        </tbody>

                    </table>


                    <a class="btn btn-primary center-block" href="/order/menu">Edit Your Order</a>

                    <h3 class="sb-title">ORDER DETAILS</h3>

                   
                    <table class="table table-hover ">
                        <thead>
                            @foreach (Items Items in Model)
                            {
                              
                                <tr>
                                    <th>@Items.Name</th>
                                    <th>x @Items.Quantitity</th>
                                    <th class="text-right">$ @Items.price</th>
                                </tr>
                            }
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="2" class="bg-warning"><b>ORDER TOTAL</b></td>
                                <td class="text-right bg-warning"><b>$ @subtotal</b></td>
                            </tr>

                        </tbody>

                      
                    </table>

                </div>
            </div>
        </div>
    </div>
</div>
